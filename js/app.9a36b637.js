(function(){"use strict";var e={899:function(e,t,s){var o=s(963),n=s(252);const a=(0,n._)("div",{class:"black-top"},null,-1),r={class:"content"};function i(e,t,s,o,i,l){const u=(0,n.up)("the-header"),c=(0,n.up)("the-main"),d=(0,n.up)("users-section"),p=(0,n.up)("register-section");return(0,n.wg)(),(0,n.iD)(n.HY,null,[a,(0,n.Wm)(u),(0,n._)("div",r,[(0,n.Wm)(c),(0,n.Wm)(d,{id:"users"}),(0,n.Wm)(p,{id:"register"})])],64)}var l=s(577),u=s.p+"img/success.9b3246d0.svg";const c=e=>((0,n.dD)("data-v-1f517cec"),e=e(),(0,n.Cn)(),e),d={class:"request-container"},p=c((()=>(0,n._)("h2",{class:"request-h2"},"Working with POST request",-1))),h={key:0,class:"success"},g=c((()=>(0,n._)("img",{src:u,alt:"success"},null,-1))),m=[g],v={class:"form-control"},f={class:"form-control"},w={class:"form-control"},_={key:0,class:"textDark"},$={class:"radio-btns"},k=c((()=>(0,n._)("h3",null,"Select your position",-1))),b=["id","value"],y=["for"],D={class:"file-form-control"},U={key:0},z={key:1},C=(0,n.Uk)("Sign up");function P(e,t,s,a,r,i){const u=(0,n.up)("the-button");return(0,n.wg)(),(0,n.iD)("section",d,[p,e.$store.state.success?((0,n.wg)(),(0,n.iD)("div",h,m)):((0,n.wg)(),(0,n.iD)("form",{key:1,class:"form",onSubmit:t[5]||(t[5]=(0,o.iM)(((...e)=>i.submit&&i.submit(...e)),["prevent"]))},[(0,n._)("div",v,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>r.v$.name.$model=e),class:(0,l.C_)({error:r.v$.name.$error})},null,2),[[o.nr,r.v$.name.$model]]),(0,n._)("span",{class:(0,l.C_)(["placeholder",{placeholderError:r.v$.name.$error,keepFocused:r.name.length}])},"Your name",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.name.$errors,((e,t)=>((0,n.wg)(),(0,n.iD)("small",{key:t},(0,l.zw)(e.$message),1)))),128))]),(0,n._)("div",f,[(0,n.wy)((0,n._)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>r.v$.email.$model=e),class:(0,l.C_)({error:r.v$.email.$error})},null,2),[[o.nr,r.v$.email.$model]]),(0,n._)("span",{class:(0,l.C_)(["placeholder",{placeholderError:r.v$.email.$error,keepFocused:r.email.length}])},"Email",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.email.$errors,((e,t)=>((0,n.wg)(),(0,n.iD)("small",{key:t},(0,l.zw)(e.$message),1)))),128))]),(0,n._)("div",w,[(0,n.wy)((0,n._)("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=e=>r.v$.phone.$model=e),class:(0,l.C_)({error:r.v$.phone.$error})},null,2),[[o.nr,r.v$.phone.$model]]),(0,n._)("span",{class:(0,l.C_)(["placeholder",{placeholderError:r.v$.phone.$error,keepFocused:r.phone.length}])},"Phone",2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.phone.$errors,((e,t)=>((0,n.wg)(),(0,n.iD)("small",{key:t},(0,l.zw)(e.$message),1)))),128)),r.phone&&r.phone.length<13?((0,n.wg)(),(0,n.iD)("small",_,'Phone should begins with "+380"')):(0,n.kq)("",!0)]),(0,n._)("div",$,[k,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.$store.state.radio,(e=>((0,n.wg)(),(0,n.iD)("div",{class:"radio-btn",key:e.id},[(0,n.wy)((0,n._)("input",{type:"radio",id:e.id,name:"radio",value:e.id,"onUpdate:modelValue":t[3]||(t[3]=e=>r.v$.position.$model=e)},null,8,b),[[o.G2,r.v$.position.$model]]),(0,n._)("label",{for:e.id},(0,l.zw)(e.name),9,y)])))),128)),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.position.$errors,((e,t)=>((0,n.wg)(),(0,n.iD)("small",{key:t},(0,l.zw)(e.$message),1)))),128))]),(0,n._)("div",D,[(0,n._)("label",{for:"file-input",class:(0,l.C_)({error:r.v$.photo.$error||r.photo&&!r.isPhotoWeight||r.photo&&!r.isPhotoSize})},[(0,n._)("input",{type:"file",id:"file-input",hidden:"",accept:".jpg, .jpeg",onChange:t[4]||(t[4]=(...e)=>i.uploadPhoto&&i.uploadPhoto(...e))},null,32),(0,n._)("span",{class:(0,l.C_)(["custom-file-btn",{errorBtn:r.v$.photo.$error||r.photo&&!r.isPhotoWeight||r.photo&&!r.isPhotoSize}])},"Upload",2),(0,n._)("span",{class:(0,l.C_)(["file-name",{textDark:r.photo}])},(0,l.zw)(r.fileName),3)],2),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(r.v$.photo.$errors,((e,t)=>((0,n.wg)(),(0,n.iD)("small",{key:t},(0,l.zw)(e.$message),1)))),128)),r.photo&&!r.isPhotoWeight?((0,n.wg)(),(0,n.iD)("small",U,"Photo should be less than 5 MB")):(0,n.kq)("",!0),r.photo&&!r.isPhotoSize?((0,n.wg)(),(0,n.iD)("small",z,"Photo size must be more than 70x70 pixels")):(0,n.kq)("",!0)]),(0,n.Wm)(u,{disabled:r.v$.$errors.length},{default:(0,n.w5)((()=>[C])),_:1},8,["disabled"])],32))])}var T=s(587),S=s(28);const q={class:"btn"};function W(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)("button",q,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])}var x={},O=s(744);const j=(0,O.Z)(x,[["render",W],["__scopeId","data-v-0aeda0d0"]]);var I=j;const H=/^[\+]{0,1}380([0-9]{9})$/,B=T.BM.regex(H);var Y={components:{TheButton:I},data(){return{v$:(0,S.Xw)(),reg:H,name:"",email:"",phone:"",position:null,photo:null,isPhotoWeight:null,isPhotoSize:null,fileName:"Upload your photo",result:null}},validations(){return{name:{required:T.C1,alpha:T.Fq,minLength:(0,T.Ei)(2),maxLength:(0,T.BS)(60)},email:{required:T.C1,email:T.Do},phone:{required:T.C1,regexPhone:B,maxLength:(0,T.BS)(13)},position:{required:T.C1,integer:T._L},photo:{required:T.C1}}},methods:{uploadPhoto(e){this.photo=e.target.files[0],this.fileName=this.photo.name,this.isPhotoWeight=this.photo.size/1024/1024<5;const t=new Image;t.src=window.URL.createObjectURL(this.photo),t.onload=()=>this.isPhotoSize=t.width>69&&t.height>69},async submit(){if(this.result=await this.v$.$validate(),!this.result)return;let e=new FormData;e.append("name",this.name),e.append("email",this.email),e.append("phone",this.phone),e.append("position_id",this.position),e.append("photo",this.photo),await this.$store.dispatch("register",e),await this.$store.dispatch("loadUsers"),this.name="",this.email="",this.phone="",this.position=null,this.photo=null,this.isPhotoWeight=null,this.isPhotoSize=null,this.fileName="Upload your photo",this.v$.$reset()}}};const E=(0,O.Z)(Y,[["render",P],["__scopeId","data-v-1f517cec"]]);var L=E,F=s.p+"img/logo.0902afb7.svg";const K=e=>((0,n.dD)("data-v-1b5d799d"),e=e(),(0,n.Cn)(),e),M={class:"container"},Z=K((()=>(0,n._)("div",{class:"logo"},[(0,n._)("img",{src:F,alt:"Logo"})],-1))),R={key:0,class:"currentUser"},N=K((()=>(0,n._)("a",{href:"#users"},"Users",-1))),V=K((()=>(0,n._)("a",{href:"#register"},"Sign up",-1)));function G(e,t,s,o,a,r){const i=(0,n.up)("the-button");return(0,n.wg)(),(0,n.iD)("section",M,[(0,n._)("header",null,[Z,(0,n._)("nav",null,[e.$store.state.currentUser?((0,n.wg)(),(0,n.iD)("span",R,(0,l.zw)(e.$store.state.currentUser),1)):(0,n.kq)("",!0),(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[N])),_:1}),(0,n.Wm)(i,{class:"ml10-btn"},{default:(0,n.w5)((()=>[V])),_:1})])])])}var J={components:{TheButton:I}};const X=(0,O.Z)(J,[["render",G],["__scopeId","data-v-1b5d799d"]]);var A=X;const Q=e=>((0,n.dD)("data-v-4eae72bf"),e=e(),(0,n.Cn)(),e),ee={class:"container"},te=Q((()=>(0,n._)("h1",null,"Test assignment for front-end developer",-1))),se=Q((()=>(0,n._)("p",{class:"text"},"What defines a good front-end developer is one that has skilled knowledge of HTML, CSS, JS with a vast understanding of User design thinking as they'll be building web interfaces with accessibility in mind. They should also be excited to learn, as the world of Front-End Development keeps evolving.",-1))),oe=Q((()=>(0,n._)("a",{href:"#register"},"Sign up",-1)));function ne(e,t,s,o,a,r){const i=(0,n.up)("the-button");return(0,n.wg)(),(0,n.iD)("section",ee,[(0,n._)("main",null,[te,se,(0,n.Wm)(i,null,{default:(0,n.w5)((()=>[oe])),_:1})])])}var ae={components:{TheButton:I}};const re=(0,O.Z)(ae,[["render",ne],["__scopeId","data-v-4eae72bf"]]);var ie=re;const le=e=>((0,n.dD)("data-v-62711560"),e=e(),(0,n.Cn)(),e),ue={class:"request-container"},ce=le((()=>(0,n._)("h2",{class:"request-h2"},"Working with GET request",-1))),de={class:"user"},pe={key:0,class:"loader"},he=(0,n.Uk)("Show more");function ge(e,t,s,o,a,r){const i=(0,n.up)("TheUser"),l=(0,n.up)("the-button");return(0,n.wg)(),(0,n.iD)("section",ue,[ce,(0,n._)("div",de,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.$store.state.users,(e=>((0,n.wg)(),(0,n.j4)(i,{key:e.id,user:e},null,8,["user"])))),128))]),e.$store.state.loading?((0,n.wg)(),(0,n.iD)("div",pe)):(0,n.kq)("",!0),e.$store.state.totalUsers?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(l,{key:1,class:"sm-btn",onClick:t[0]||(t[0]=t=>e.$store.dispatch("loadUsers",e.$store.state.page++))},{default:(0,n.w5)((()=>[he])),_:1}))])}const me={class:"card"},ve={class:"photo"},fe=["src"],we={class:"info"},_e={class:"name"},$e={class:"tooltip"},ke={class:"position"},be={class:"email"},ye={class:"tooltip"},De={class:"phone"};function Ue(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)("div",me,[(0,n._)("div",ve,[(0,n._)("img",{src:s.user.photo,alt:"avatar"},null,8,fe)]),(0,n._)("div",we,[(0,n._)("div",_e,[(0,n.Uk)((0,l.zw)(s.user.name)+" ",1),(0,n._)("span",$e,(0,l.zw)(s.user.name),1)]),(0,n._)("div",ke,(0,l.zw)(s.user.position),1),(0,n._)("div",be,[(0,n.Uk)((0,l.zw)(s.user.email)+" ",1),(0,n._)("span",ye,(0,l.zw)(s.user.email),1)]),(0,n._)("div",De,(0,l.zw)(s.user.phone),1)])])}var ze={props:["user"]};const Ce=(0,O.Z)(ze,[["render",Ue],["__scopeId","data-v-4e485408"]]);var Pe=Ce,Te={components:{TheButton:I,TheUser:Pe}};const Se=(0,O.Z)(Te,[["render",ge],["__scopeId","data-v-62711560"]]);var qe=Se,We={components:{TheHeader:A,TheMain:ie,UsersSection:qe,RegisterSection:L},mounted(){this.$store.dispatch("getRadio"),this.$store.dispatch("loadUsers")}};const xe=(0,O.Z)(We,[["render",i]]);var Oe=xe,je=s(907),Ie=s(669),He=s.n(Ie),Be=(0,je.MT)({state(){return{radio:null,users:[],page:1,totalUsers:!1,loading:!1,token:null,userId:null,success:null,currentUser:null}},getters:{},mutations:{},actions:{async getRadio({state:e}){const{data:t}=await He().get("https://frontend-test-assignment-api.abz.agency/api/v1/positions");e.radio=t.positions},async loadUsers({state:e}){e.loading=!0,e.success&&(e.users=[],e.page=1);const{data:t}=await He().get(`https://frontend-test-assignment-api.abz.agency/api/v1/users?page=${e.page}&count=6`);setTimeout((()=>{e.users.push(...t.users),e.users.sort(((e,t)=>t.registration_timestamp-e.registration_timestamp)),e.totalUsers=e.users.length===t.total_users,e.loading=!1}),500)},async getToken({state:e}){const{data:t}=await He().get("https://frontend-test-assignment-api.abz.agency/api/v1/token");e.token=t.token},async getUser({state:e}){const{data:t}=await He().get(`https://frontend-test-assignment-api.abz.agency/api/v1/users/${e.userId}`);e.currentUser=t.user.email},async register({state:e,dispatch:t},s){await t("getToken");const{data:o}=await He().post("https://frontend-test-assignment-api.abz.agency/api/v1/users",s,{headers:{Token:e.token}});e.userId=o.user_id,e.success=o.success,await t("getUser"),setTimeout((()=>{e.success=null}),3e3)}},modules:{}});(0,o.ri)(Oe).use(Be).mount("#app")}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,a){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],a=e[c][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(c--,1);var u=n();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,n,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.p="/vue-app-registration-validation-get-post-token/"}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,r=o[0],i=o[1],l=o[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var c=l(s)}for(t&&t(o);u<r.length;u++)a=r[u],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(c)},o=self["webpackChunktesttask"]=self["webpackChunktesttask"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(899)}));o=s.O(o)})();
//# sourceMappingURL=app.9a36b637.js.map